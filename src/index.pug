doctype html
html(lang="en")
  head
    title= pageTitle
    script(type='text/javascript').
      if (false) bar(1 + 5)
    link(rel="stylesheet", href="style.css")
  body

    h1 Surakarta Board Game

    #board
      //- SVG
      //- 6x6 grid with 2 max diameter circles : Width 10x the size of a square.
      //- 2 loops : external and internal
      //- 2 players : black and white
      //- 12 pieces per player

      //- Customisations
      - piece_radius = 25


      -
        var ext_loop_path = [
          "M 300 200",
          "A 100 100 0 1 0 200 300",
          "H 800", // Horizontal line to 8,3
          "A 100 100 0 1 0 700 200",
          "V 800", // Vertical line to 8,8
          "A 100 100 0 1 0 800 700",
          "H 200", // Horizontal line to 3,8
          "A 100 100 0 1 0 300 800",
          "V 200", // Vertical line to 3,3``
          "Z" // Close path
          ].join(" ");

        var internal_loop_path = [
          "M 400 200",
          "A 200 200 0 1 0 200 400",
          "H 800", // Horizontal line to 8,4
          "A 200 200 0 1 0 600 200",
          "V 800", // Vertical line to 6,8
          "A 200 200 0 1 0 800 600",
          "H 200", // Horizontal line to 2,6
          "A 200 200 0 1 0 400 800",
          "V 200", // Vertical line to 4,2
          "Z" // Close path
          ].join(" ");

      svg(viewBox="-50 -50 1050 1050", class="board")
        //- First are drawn the two loops
        path(d=ext_loop_path class="external-loop")
        path(d=internal_loop_path class="internal-loop")
        //- une grille de 6x6 avec des arcs de cercle avec 2 de diam√®tre max : Largeur 10x la taille d'une case.

        //- Grid
        - for (var i = 2; i <= 8; i++)
          line(x1="200" y1=(i*100) x2="800" y2=(i*100) class="grid")
          line(x1=(i*100) y1="200" x2=(i*100) y2="800" class="grid")

        //- Piece circles. Configured with initial positions
        - for (var x = 2; x <= 8; x++)
          - for (var y = 2; y <= 8; y++)
            - var piece_class = ""
            if y <= 3
              - piece_class = "player_1"
            else if y >= 6
              - piece_class = "player_2"
            else
              - piece_class = "empty"

            circle(cx=(x*100) cy=(y*100) r=piece_radius class=(piece_class))



